<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: util.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: util.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Contains utility functions.
 */
class Util {

    /**
     * Decodes URI parameters
     *
     * @returns  {Object}  An Object containing parsed URI parameters
     */
    static getParams () {
        return decodeURIComponent(window.location.search.slice(1))
            .split('&amp;')
            .reduce(function (objectAccum, current) {
                current = current.split('=');
                objectAccum[current[0]] = current[1];
                return objectAccum;
            }, {});
    }

    /**
     * Resizes canvas to its real client size.
     * @todo make it recenter camera as well, perhaps call a Viewport resize method if there is a Viewport
     * @todo REMOVE ME is unused
     *
     * @param    {HTMLElement}  canvas  Reference to a canvas DOM element
     * @returns  {HTMLElement}          Reference to the same canvas element
     */
    static refitCanvas (canvas) {
        
        // Refit the canvas
        canvas.width = canvas.clientWidth;
        canvas.height = canvas.clientHeight;
        
        return canvas;
    }
    
    /**
     * Prevents browser from playing/downloading the dragged file and allows JS handling
     * 
     * @param  {Event}  dragoverEvent  Dragover event object
     */
    static allowDragging (dragoverEvent) {

        // Stop playing/downloading and bubbling, allow JS handling 
        dragoverEvent.preventDefault();
        dragoverEvent.stopPropagation();
        dragoverEvent.dataTransfer.dropEffect = 'copy';
    }

    /**
     * Attempts to load a file and calls a function, depending on outcome.
     *
     * @param  {Object}    file             File object to load, format as per drag&amp;drop event dropEvent.dataTransfer.files[0]
     * @param  {Function}  successCallback  Function to call with file contents parameter, if successful
     * @param  {Function}  errorCallback    Function to call with error event parameter, if file loading failed
     */
    static loadFile (file, successCallback, errorCallback) {

        // Get file info
        var fileName = file.name;
        var fileReader = new FileReader();

        // Handle file loaded and file load error events
        fileReader.addEventListener('load', function (loadEvent) {
            var fileContents = loadEvent.target.result;
            successCallback(fileContents);
        });
        fileReader.addEventListener('error', function (errorEvent) {
            errorCallback(errorEvent);
        });

        // Start the actual loading
        fileReader.readAsArrayBuffer(file);
    }
}

export default Util;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Shaders.html">Shaders</a></li><li><a href="Shims.html">Shims</a></li><li><a href="Sonografi.html">Sonografi</a></li><li><a href="Sound.html">Sound</a></li><li><a href="Util.html">Util</a></li><li><a href="Viewport.html">Viewport</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Sat Jul 09 2016 22:19:13 GMT+0300 (RTZ 2 (зима))
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
